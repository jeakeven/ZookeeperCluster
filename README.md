<div><br></div><div># ZookeeperCluster</div><div>Zookeeper伪分布式集群，在同一台pc上启动多个zookeeper实例</div><div><br></div><div>1、更改zookeeper0/conf/zoo.cfg文件为:</div><div><br></div><div>Bash代码</div><div>tickTime=2000</div><div>initLimit=5</div><div>syncLimit=2</div><div>dataDir=/Users/apple/zookeeper0/data</div><div>dataLogDir=/Users/apple/zookeeper0/logs</div><div>clientPort=4180</div><div>server.0=127.0.0.1:8880:7770</div><div>server.1=127.0.0.1:8881:7771</div><div>server.2=127.0.0.1:8882:7772</div><div><br></div><div><br></div><div>2、在之前设置的dataDir中新建myid文件, 写入一个数字, 该数字表示这是第几号server.&nbsp;</div><div>该数字必须和zoo.cfg文件中的server.X中的X一一对应.</div><div>/Users/apple/zookeeper0/data/myid文件中写入0</div><div>/Users/apple/zookeeper1/data/myid文件中写入1</div><div>/Users/apple/zookeeper2/data/myid文件中写入2.</div><div><br></div><div><br></div><div>3、分别进入/Users/apple/zookeeper0/bin, /Users/apple/zookeeper1/bin, /Users/apple/zookeeper2/bin三个目录,&nbsp;</div><div>分别启动server，命令：./zkServer.sh start</div><div><br></div><div>启用成功后，输入 jps 看下进程</div><div>20351 ZooKeeperMain</div><div>20791 QuorumPeerMain</div><div>20822 QuorumPeerMain</div><div>20865 QuorumPeerMain</div><div><br></div><div><br></div><div>4、任意选择一个server目录, 启动客户端:</div><div>Bash代码</div><div>./zkCli.sh -server localhost:4180</div>
